h1. Unlimited Custom Fields for Textpattern – glz_custom_fields

This plugin removes the limit on the number of custom fields in Textpattern and also allows you to create a range of different custom field types:

* Text input (default)
* Checkboxes
* Radio buttons
* Select dropdowns
* Multiselect boxes
* Textareas

You can specify a set of predefined values for selects, multi-selects, checkboxes and radio button custom fields, one of which may be set as the @{default value}@ by placing it in curly brackets.

In addition, there are three special custom field types:

h3(#time-and-date-pickers). Time and date pickers

Time and date pickers offer an easy way for users to specify dates and times in a consistent format. The *date format*, *first day of the week* and *start date* for the calendar can be set in the plugin preferences.

Similarly, the *time format* (24 or 12 hours), *start and end times* (e.g. @08:00@ and @19:00@) and *time step* (intervals, e.g. @30@ minutes) can be set in the plugin preferences.

_IMPORTANT: You must copy the "plugins/glz_custom_fields":https://github.com/jools-r/glz_custom_fields/dist/plugins/glz_custom_fields folder to your Textpattern installation directory and set the corresponding paths in the "plugin preferences":?event=prefs#prefs_group_glz_custom_f for the datepicker and timepicker to function correctly. To place them in another web-reachable location, just change the path settings in the preferences accordingly._

h3(#custom-scripts). Custom scripts

Custom scripts make it possible to build-in custom functionality, for example to pull in information from elsewhere in your site, by writing a corresponding php script to create the custom field. Please refer to "my_image.php":https://github.com/jools-r/glz_custom_fields/blob/master/dist/plugins/glz_custom_fields/my_images.php file as an example with inline explanations or ask on the forum for tips and examples.

h3(#ranges). Ranges

Ranges are not in themselves a special field type. If you want to define ranges, create a new ‘Text Input’ custom field with the following name e.g. @Price range &amp;pound;(after)@.

* @range@ - this *(warning)must* be present in the name for the custom field to be recognised as a range.
* @&amp;pound;@ - don't use straight symbols (like @€@ or @£@) but rather their "entities":http://www.amp-what.com/unicode/search/ e.g. @&amp;euro;@ and @&amp;pound;@ are valid symbols.
* @(after)@ - don't leave any spaces after e.g. @&amp;euro;@ and @(after)@. This basically says where to add the measuring unit (be it a currency or something like m³ etc.) - @(before)@ is default.

Ranges are defined @10-20@, @21-30@ etc. (no measuring units - they get pulled from the custom set name).

h3(#custom-field-names). Custom field names

Custom field *names* should adhere to the following naming rules:

* only lowercase letters and numbers
* underscores as separators (no spaces or dashes)
* should not start with a number

This version of glz_custom_fields will convert the names of _newly created_ custom fields to this pattern and notify you when saving. In the interests of backwards compatibility, it will _not_ change existing custom fields but will issue a warning.

Custom field *titles* have no such restrictions.

Previous versions of glz_custom_fields permitted custom names with spaces, dashes, capital letters and numbers. These can, however, cause problems when using custom field names as an attribute for "txp:article_custom":https://docs.textpattern.io/tags/article_custom#attributes. Future versions of Textpattern will be stricter about custom field naming and it is advisable to adapt your custom field names and code accordingly.

_*Important:* You can rename them with this plugin but remember you will also need to alter all instances of "txp:custom_field":https://docs.textpattern.io/tags/custom_field and "txp:if_custom_field":https://docs.textpattern.io/tags/if_custom_field in your page templates and forms to match._

h3(#upgrading). Version compatibility and upgrading

This version is compatible with Version 4.7+ of Textpattern. It uses functionality not available in earlier versions of Textpattern and adds new functionality not previously available in earlier versions of glz_custom_fields. It is therefore not for use with earlier versions of Textpattern.

On installation, the plugin upgrades your settings and preferences to avoid potential naming collisions. Downgrading to an earlier version of Textpattern is therefore inadvisable and requires manually renaming preference names to their old naming scheme in the database.

h3(#changelog). Changelog

v2.0 – March 2018

– Refactored for Textpattern v4.7
– Installation should not overwrite existing settings
– Plugin preferences now handled in Admin › Preferences
– Custom field title labels and supporting instruction hints (also per UI-language)
– js/css URL location pref and support for relative URLs: relocate your js/css files where you want them (e.g. for multisite installations)
– Now makes widespread use of Textpattern’s in-built functions for UI creation, error messages/notices, language strings, field labels
– Translatable: now uses textpacks
– Updated + minified js/css and datepicker/timepicker labels
– Changes to custom fields updates last modified date (for cache renewal)


h3(#support). Support

Comments, bug reports and pull requests are welcome:

# Report an issue on "GitHub":http://github.com/jools-r/glz_custom_fields/issues.
# Help is also always available in the Textpattern forum: "glz_custom_fields thread":http://forum.textpattern.io/viewtopic.php?id=23996.

h3(#credits). Credits

This plugin was originally written by "Gerhard Lazu":https://github.com/gerhard and dates back to "2007":https://forum.textpattern.io/viewtopic.php?pid=157983#p157983. It has been repaired, expanded and adopted by numerous forum members over the years (credited in the code), most recently by "Bloke":https://github.com/Bloke/glz_custom_fields. This significantly refactored version adds compatibility with Textpattern v4.7 and is currently looked after by "jools-r":https://github.com/jools-r/glz_custom_fields. Its concept and core workings are still those of Gerhard's original plugin. The Textpattern core will ultimately support unlimited custom fields, making this plugin obsolete at some point in the future.

This plugin uses *jQuery DatePicker* ("homepage":http://2008.kelvinluck.com/assets/jquery/datePicker/v2/demo/ / "github":https://github.com/vitch/jQuery-datepicker) by Kelvin Luck and *jQuery Timepicker* ("github":https://github.com/perifer/timePicker) by Anders Fajerson.
