h1. Unlimited Custom Fields for Textpattern v4.7+

This plugin removes the limit of 10 custom fields in Textpattern and also allows you to create a range of different custom field types:

* Text inputs (default)
* Checkboxes
* Radio buttons
* Select dropdowns
* Multiselect boxes
* Textareas

You can specify a set of predefined choices for selects, multi-selects, checkboxes and radio button custom fields, one of which may also be set as the @{default value}@ by placing it in curly brackets.

Additionally, there are three special custom field types: date pickers, time pickers and custom fields powered by custom scripts of your own making.

You can provide field label titles for the "Write panel":https://docs.textpattern.io/administration/write-panel along with short instruction texts as input hints for admin users (also per UI languages), and define the order in which the custom fields appear on the Write panel.

h2(#installation). Installation

# Open the plugin text file, copy its entire contents to the clipboard and paste into the 'Install plugin' textarea of the "Plugins panel":https://docs.textpattern.io/administration/plugins-panel#uploading-plugins. Click 'Upload' and then 'Install'.
# Upload the "plugins/glz_custom_fields":https://github.com/jools-r/glz_custom_fields/tree/master/dist/ folder to your Textpattern installation directory.
# Activate the plugin.
# Verify that the corresponding paths in the plugin preferences are correct. The plugin will indicate if there are potential problems.

h3(#upgrading). Upgrading

Follow the same process as installation. The installer should detect and convert your existing preferences to new names in the background. Replace all the files in the "plugins/glz_custom_fields":https://github.com/jools-r/glz_custom_fields/tree/master/dist/ folder as all files have changed to work with the most recent admin layout. The timepicker and datepicker have likewise been updated and minified.

_Note: You may relocate the css and js files to locations of your own choosing. Change the paths in the plugin preferences panel accordingly. Only the contents of the jquery.datePicker or jquery.timePicker folders must stay together. You may rename the folders but not the filenames._

h3(#deinstallation). Deinstallation

Deinstalling the plugin does not remove the custom fields settings or the data input into the articles. This is intentional to avoid inadvertent data loss. The fields cannot be edited in the meantime, but reinstalling the plugin restores access to them. To remove data input in the custom fields, delete / reset the custom fields on the “Extensions › Custom Fields” page first before deinstalling the plugin.

h2(#special-custom-fields). Special custom fields

There are three special custom field types:

h3. Time and date pickers

Time and date pickers offer an easy way for users to specify dates and times in a consistent format. The *date format*, *first day of the week* and *start date* for the calendar can be set in the plugin preferences.

Similarly, the *time format* (24 or 12 hours), *start and end times* (e.g. @08:00@ and @19:00@) and *time step* (intervals, e.g. @30@ minutes) can be set in the plugin preferences.

_IMPORTANT: For the datepicker and timepicker to function correctly, you must copy the "plugins/glz_custom_fields":https://github.com/jools-r/glz_custom_fields/tree/master/dist folder to your Textpattern installation directory and set the corresponding paths in the plugin preferences._

h3. Custom scripts

Custom scripts make it possible to build-in custom functionality, for example to pull in information from elsewhere in your site, by writing a corresponding php script to create the custom input field. Please refer to "my_image.php":https://github.com/jools-r/glz_custom_fields/blob/master/dist/plugins/glz_custom_fields/my_images.php file as an example with inline explanations or ask on the forum for tips and examples.


h2(#custom-field-names). Custom field names

*Custom field names* should adhere to the following naming rules:

* only lowercase letters and numbers
* underscores as separators (no spaces or dashes)
* should not start with a number

This version of glz_custom_fields will convert the names of _newly created_ custom fields to this pattern and notify you when saving. In the interests of backwards compatibility, it will _not_ change existing custom fields but will issue a warning.

Previous versions of glz_custom_fields permitted custom names with spaces, dashes, capital letters and numbers. These can, however, cause problems when using custom field names as an attribute for "txp:article_custom":https://docs.textpattern.io/tags/article_custom#attributes.

Future versions of Textpattern will be stricter about custom field naming and it is advisable to adapt your custom field names and code accordingly.

_*Important:* You can rename custom field names with this plugin but remember you will also need to alter all instances of "txp:custom_field":https://docs.textpattern.io/tags/custom_field and "txp:if_custom_field":https://docs.textpattern.io/tags/if_custom_field as well as all customfieldname attributes in "txp:article_custom":https://docs.textpattern.io/tags/article_custom in your page templates and forms to match._

h3. Custom field titles

*Custom field titles* have no strict naming restrictions and can also be specified per language. Switch the "User language" in "Admin › Languages" and enter a new title.

If no custom field title is specified, the custom_field_name will be displayed as the field label as in previous versions.

The custom field title can be accessed from @page templates@ and @forms@ for displaying to the front-end if required as follows:

bc. <txp:custom_field name="my_custom_field" title="1" />

This outputs the custom field's title string in the current front-side language. If no title has been defined for the custom field, the tag outputs nothing.

_Note: The @title="1"@ attribute does not work when this plugin is not installed._

h2(#upgrading). Version compatibility

This version is compatible with Version 4.7+ of Textpattern. It uses functionality not available in earlier versions of Textpattern and adds new functionality not previously available in earlier versions of glz_custom_fields. It is therefore not for use with earlier versions of Textpattern.

On installation, the plugin upgrades your settings and preferences to avoid potential naming collisions. Downgrading to an earlier version of Textpattern is therefore inadvisable and requires manually renaming preference names to their old naming scheme in the database.
